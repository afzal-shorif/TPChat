<!doctype html>
<html>
<head>
    <title>Cimple Chat</title>
    <link rel="icon" type="image/png" href="~/images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/default-style.css" />
    <script>
        let CimpleChat = {};
        CimpleChat.Chat = {};
    </script>
</head>
<body class="theme-body-background">
    <nav class="navbar navbar-expand-lg theme-header-background">
        <div class="container">
            <div class="d-flex justify-content-between w-100" style="gap: 10px;">
                <div class="">
                    <!--
                         <a href="@Url.Action("Index", "Home")" class="text-white"><i class="fa-solid fa-house mt-1" style="font-size: 30px;"></i></a>
                    -->
                    <span style="font-size: 30px;">C</span>imple<span style="font-size: 30px;">C</span>hat
                </div>
                <div class="w-50" style="position: relative;">
                    <input type="text" class="form-control" id="searchField" name="search" placeholder="Search Channel" style="border-color: #7b88b8;" />
                    <div id="searchSuggestionContainer">
                    </div>
                </div>
                <div class="d-flex">
                    @if (!string.IsNullOrEmpty(ViewBag.Username))
                    {
                        <div>
                            <h5 class="mt-1 me-3">@ViewBag.Username</h5>
                        </div>
                        <div class="round-img-container">
                            @ViewBag.UserProfileCharacter
                        </div>
                    }
                </div>
            </div>
        </div>
    </nav>
    <div class="container-lg" id="bodyWrapper">
        @RenderBody()
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="~/js/common-script.js"></script>
    <script src="~/js/web-socket-module.js"></script>
    <script src="~/js/chat/ui-render-scriptjs.js"></script>
    <script src="~/js/chat/message-queue-script.js"></script>
    <script src="~/js/channel-script.js"></script>
    <script src="~/js/registration-script.js"></script>
    <script src="~/js/ui-script.js"></script>
    <script>
        window.onbeforeunload = function () {            
            CimpleChat.WebSocketModule.closeWebSocket(1001, 'User is leaving the page');
        };
    </script>
    @RenderSection("Scripts", required: false)
</body>
</html>